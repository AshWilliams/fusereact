(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[160],{2778:function(e,t,n){"use strict";n.r(t);var a,c=n(186),l=n(155),i=n(0),r=n(7),s=n(1213),o=n(28),d=n(18),u=n.n(d),j=n(38),b=n(23),m=n(60),x=n.n(m),h=Object(b.b)("notesApp/labels/getLabels",Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/notes-app/labels");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),p=Object(b.b)("notesApp/labels/updateLabels",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/notes-app/update-labels",{labels:Object.values(t)});case 2:return n=e.sent,e.next=5,n.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(b.c)({}),O=f.getSelectors((function(e){return e.notesApp.labels})),v=O.selectAll,g=O.selectEntities,y=(O.selectById,Object(b.d)({name:"notesApp/labels",initialState:f.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:function(e,t){e.labelsDialogOpen=!0},closeLabelsDialog:function(e,t){e.labelsDialogOpen=!1}},extraReducers:(a={},Object(o.a)(a,h.fulfilled,f.setAll),Object(o.a)(a,p.fulfilled,f.setAll),a)})),N=y.actions,w=N.openLabelsDialog,k=N.closeLabelsDialog,C=y.reducer,S=n(6),D=n(19),z=n(106),I=n(153),A=n(40),L=n(12),T=n(1224),E=n(1218),V=n(1161),R=n(621),_=n(1242),F=n(1166),H=n(1167),P=n(220),U=n(62);var B=function(e){return e=e||{},L.a.defaults(e,{id:U.a.generateGUID(),name:"",handle:U.a.handleize(e.name||"")})},M=n(3),W=n(70),q=n(1),G={name:""},J=W.d().shape({name:W.f().required("You must enter a label title")});var Y=function(e){var t=Object(r.c)(),n=Object(r.d)((function(e){return e.notesApp.labels.entities})),a=Object(i.useState)(n),c=Object(D.a)(a,2),l=c[0],s=c[1],o=Object(A.f)({mode:"onChange",defaultValues:G,resolver:Object(I.a)(J)}),d=o.control,u=o.formState,j=o.handleSubmit,b=o.reset,m=u.isValid,x=u.dirtyFields,h=u.errors;Object(i.useEffect)((function(){s(n)}),[n]);var f=Object(z.a)((function(e){t(p(e))}),300);return Object(i.useEffect)((function(){l&&!L.a.isEqual(l,n)&&f(l)}),[f,n,l]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(P.a,{className:"text-16 mb-8 font-semibold",children:"Edit Labels"}),Object(q.jsxs)(F.a,{dense:!0,children:[Object(q.jsx)("form",{onSubmit:j((function(e){var t=B(e);s(L.a.setIn(l,t.id,t)),b(G)})),children:Object(q.jsx)(H.a,{className:"p-0 mb-16",dense:!0,children:Object(q.jsx)(A.a,{name:"name",control:d,render:function(e){var t,n=e.field;return Object(q.jsx)(T.a,Object(S.a)(Object(S.a)({},n),{},{className:Object(M.a)("flex flex-1"),error:!!h.name,helperText:null===h||void 0===h||null===(t=h.name)||void 0===t?void 0:t.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:Object(q.jsx)(_.a,{position:"start",children:Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"add"})}),endAdornment:Object(q.jsx)(_.a,{position:"end",children:Object(q.jsx)(V.a,{className:"w-32 h-32 p-0","aria-label":"Delete",disabled:L.a.isEmpty(x)||!m,type:"submit",children:Object(q.jsx)(E.a,{fontSize:"small",children:"check"})})})}}))}})})}),Object(i.useMemo)((function(){return Object.entries(l).map((function(e){var t=Object(D.a)(e,2),n=(t[0],t[1]);return Object(q.jsxs)(H.a,{className:"p-0 mb-8",dense:!0,children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"label"}),Object(q.jsx)(R.a,{className:Object(M.a)("flex flex-1 mx-8"),name:"name",value:n.name,onChange:function(e){return function(e,t){var n=B(L.a.setIn(t,e.target.name,e.target.value));s(L.a.setIn(l,n.id,n))}(e,n)},disableUnderline:!0}),Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(e){return function(e){s(L.a.omit(l,[e.id]))}(n)},children:Object(q.jsx)(E.a,{fontSize:"small",children:"delete"})})]},n.id)}))}),[l])]})]})};var K=function(e){var t=Object(r.c)(),n=Object(r.d)((function(e){return e.notesApp.labels.labelsDialogOpen}));return Object(q.jsx)(s.a,{classes:{paper:"w-full max-w-320 p-16 m-24"},onClose:function(e){return t(k())},open:n,children:Object(q.jsx)(Y,{})})},Q=n(623),X=n(44),Z=n(1225),$=n(1230),ee=n(1226);var te=function(e){return e=e||{},L.a.defaults(e,{id:U.a.generateGUID(),title:"",description:"",archive:!1,image:"",time:null,reminder:null,checklist:[],labels:[]})},ne=n(1315),ae=n(35);var ce=function(e){var t=Object(r.d)(g);if(!t)return null;var n=t[e.id];if(!n)return null;var a=e.linkable?{component:ae.a,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(n.handle,"/").concat(n.id)}:{};return Object(q.jsx)(ne.a,Object(S.a)(Object(S.a)({},a),{},{label:n.name,classes:Object(S.a)({root:Object(M.a)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}))},le=n(188);var ie=function(e){return e.date?Object(q.jsx)(ne.a,{icon:Object(q.jsx)(E.a,{className:"text-16",children:"access_time"}),label:Object(le.a)(new Date(e.date),"MMM dd yy, h:mm"),classes:Object(S.a)({root:Object(M.a)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}):null},re=n(58),se=n(15);var oe=function(e){return e=e||{},L.a.defaults(e,{id:U.a.generateGUID(),text:"",checked:!1})},de={text:""},ue=W.d().shape({text:W.f().required("You must enter a label title")});var je=function(e){var t=Object(A.f)({mode:"onChange",defaultValues:de,resolver:Object(I.a)(ue)}),n=t.control,a=t.formState,c=t.handleSubmit,l=t.reset,i=a.isValid,r=a.dirtyFields,s=a.errors;return Object(q.jsx)("form",{onSubmit:c((function(t){e.onListItemAdd(oe(t)),l(de)})),children:Object(q.jsx)(H.a,{className:"p-0",dense:!0,children:Object(q.jsx)(A.a,{name:"text",control:n,render:function(e){var t,n=e.field;return Object(q.jsx)(T.a,Object(S.a)(Object(S.a)({},n),{},{className:"flex flex-1",error:!!s.text,helperText:null===s||void 0===s||null===(t=s.text)||void 0===t?void 0:t.message,placeholder:"Add an item",variant:"standard",autoFocus:!0,hiddenLabel:!0,InputProps:{disableUnderline:!0,className:"px-2",startAdornment:Object(q.jsx)(_.a,{position:"start",children:Object(q.jsx)(V.a,{className:"w-32 h-32 p-0 -mx-6","aria-label":"Add",type:"submit",disabled:L.a.isEmpty(r)||!i,children:Object(q.jsx)(E.a,{fontSize:"small",children:"add"})})})}}))}})})})},be=n(1289);var me=function(e){function t(t){e.onListItemChange(L.a.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?Object(q.jsxs)(H.a,{className:"p-0",dense:!0,children:[Object(q.jsx)(be.a,{className:"p-0",checked:e.item.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:t,color:"default"}),Object(q.jsx)(R.a,{className:Object(M.a)("flex flex-1 mx-8",e.item.checked&&"line-through opacity-50"),name:"text",value:e.item.text,onChange:t,disableUnderline:!0}),Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)},children:Object(q.jsx)(E.a,{fontSize:"small",children:"delete"})})]},e.item.id):null};var xe=function(e){function t(t){e.onCheckListChange(e.checklist.map((function(e){return e.id===t.id?t:e})))}function n(t){e.onCheckListChange(e.checklist.filter((function(e){return e.id!==t})))}return e.checklist?Object(q.jsx)("div",{className:e.className,children:Object(q.jsxs)(F.a,{dense:!0,children:[e.checklist.map((function(e){return Object(q.jsx)(me,{item:e,onListItemChange:t,onListItemRemove:n},e.id)})),Object(q.jsx)(je,{onListItemAdd:function(t){e.onCheckListChange([].concat(Object(se.a)(e.checklist),[t]))}})]})}):null},he=n(620),pe=n(1231),fe=n(1164);var Oe=function(e){var t=Object(r.d)((function(e){return e.notesApp.labels.entities})),n=Object(i.useState)(null),a=Object(D.a)(n,2),c=a[0],l=a[1];function s(){l(null)}return Object(q.jsxs)("div",{children:[Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),l(e.currentTarget)},children:Object(q.jsx)(E.a,{fontSize:"small",children:"label"})}),Object(q.jsx)(fe.a,{hideBackdrop:!0,open:Boolean(c),anchorEl:c,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"},children:Object(q.jsx)(he.a,{onClickAway:s,children:Object(q.jsx)(F.a,{className:"p-0",children:Object.entries(t).map((function(t){var n=Object(D.a)(t,2),a=(n[0],n[1]);return Object(q.jsxs)(H.a,{button:!0,dense:!0,onClick:function(){return t=a.id,void e.onChange(L.a.xor(e.note.labels,[t]));var t},children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:e.note.labels.includes(a.id)?"check_box":"check_box_outline_blank"}),Object(q.jsx)(pe.a,{className:"truncate px-8",primary:a.name,disableTypography:!0})]},a.id)}))})})})]})},ve=n(454),ge=n(1189),ye=n(1434);var Ne=function(e){var t=Object(i.useState)(!1),n=Object(D.a)(t,2),a=n[0],c=n[1],l=new Date(e.reminder);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return c(!0)},children:Object(q.jsx)(E.a,{fontSize:"small",children:"notifications_active"})}),Object(q.jsx)(ge.a,{utils:ve.a,children:Object(q.jsx)(ye.a,{className:"hidden",open:a,onOpen:function(){return c(!0)},onClose:function(){return c(!1)},clearable:!0,showTodayButton:!0,disablePast:!0,value:l,onChange:e.onChange,DialogProps:{className:"prevent-add-close"}})})]})};var we=function(e){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("label",{htmlFor:"button-file",children:[Object(q.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(t){var n=t.target.files[0];if(n){var a=new FileReader;a.readAsBinaryString(n),a.onload=function(){e.onChange&&e.onChange("data:".concat(n.type,";base64,").concat(btoa(a.result)))},a.onerror=function(){console.log("error on load image")}}}}),Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0",component:"span",children:Object(q.jsx)(E.a,{fontSize:"small",children:"image"})})]})})},ke=W.d().shape({title:W.f(),description:W.f(),image:W.f(),checklist:W.a(),oneOfThemRequired:W.b().when(["title","description","image","checklist"],{is:function(e,t,n,a){return!e&&!t&&!n&&!a||!!e&&!!t&&!!n&&!!a},then:W.b().required(""),otherwise:W.b()})});function Ce(e){var t=Object(i.useState)(!1),n=Object(D.a)(t,2),a=n[0],c=n[1],l=Object(re.j)(),r=L.a.merge({},te(),e.note,l.labelId?{labels:[l.labelId]}:null,"archive"===l.id?{archive:!0}:null),s=Object(A.f)({mode:"onChange",defaultValues:r,resolver:Object(I.a)(ke)}),o=s.formState,d=s.handleSubmit,u=s.getValues,j=(s.reset,s.watch),b=s.setValue,m=s.control,x=o.isValid,h=o.dirtyFields,p=(o.errors,j());function f(t){e.onCreate&&e.onCreate(t)}return Object(i.useEffect)((function(){e.note&&"new"!==e.variant&&e.onChange&&(L.a.isEqual(e.note,p)||e.onChange(p))}),[p,e,r]),Object(q.jsxs)("div",{className:"flex flex-col w-full",children:[Object(q.jsx)(X.a,{className:"flex flex-auto w-full max-h-640",children:Object(q.jsxs)("div",{className:"w-full",children:[Object(q.jsx)(A.a,{name:"image",control:m,defaultValue:"",render:function(e){var t=e.field,n=t.onChange,a=t.value;return""===a?null:Object(q.jsxs)("div",{className:"relative",children:[Object(q.jsx)("img",{src:a,className:"w-full block",alt:"note"}),Object(q.jsx)($.a,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",type:"button",onClick:function(){return n("")},children:Object(q.jsx)(E.a,{fontSize:"small",children:"delete"})})]})}}),Object(q.jsx)("div",{className:"px-20 my-16",children:Object(q.jsx)(A.a,{name:"title",control:m,render:function(e){var t=e.field;return Object(q.jsx)(R.a,Object(S.a)(Object(S.a)({},t),{},{className:"font-semibold text-14",placeholder:"Title",type:"text",disableUnderline:!0,fullWidth:!0}))}})}),Object(q.jsx)("div",{className:"px-20 my-16",children:Object(q.jsx)(A.a,{name:"description",control:m,render:function(e){var t=e.field;return Object(q.jsx)(R.a,Object(S.a)(Object(S.a)({},t),{},{placeholder:"Take a note...",multiline:!0,rows:"4",disableUnderline:!0,fullWidth:!0}))}})}),Object(q.jsx)(A.a,{name:"checklist",control:m,defaultValue:[],render:function(e){var t=e.field,n=t.onChange,c=t.value;return 0!==c.length||a?Object(q.jsx)("div",{className:"px-16",children:Object(q.jsx)(xe,{checklist:c,onCheckListChange:function(e){return n(e)}})}):null}}),(p.labels||p.reminder||p.time)&&Object(q.jsxs)("div",{className:"flex flex-wrap w-full px-20 my-16 -mx-4",children:[p.reminder&&Object(q.jsx)(ie,{className:"mt-4 mx-4",date:p.reminder}),Object(q.jsx)(A.a,{name:"labels",control:m,defaultValue:[],render:function(e){var t=e.field,n=t.onChange,a=t.value;return a?a.map((function(e){return Object(q.jsx)(ce,{id:e,className:"mt-4 mx-4",onDelete:function(){return n(a.filter((function(t){return t!==e})))}},e)})):null}}),p.time&&Object(q.jsxs)(P.a,{color:"textSecondary",className:"text-12 mt-8 mx-4",children:["Edited: ",Object(le.a)(new Date(p.time),"MMM dd yy, h:mm")]})]})]})}),Object(q.jsxs)("div",{className:"flex flex-auto justify-between items-center px-16 pb-12",children:[Object(q.jsxs)("div",{className:"flex items-center",children:[Object(q.jsx)(ee.a,{title:"Remind me",placement:"bottom",children:Object(q.jsx)("div",{children:Object(q.jsx)(A.a,{name:"reminder",control:m,defaultValue:[],render:function(e){var t=e.field,n=t.onChange,a=t.value;return Object(q.jsx)(Ne,{reminder:a,onChange:function(e){return n(e)}})}})})}),Object(q.jsx)(ee.a,{title:"Add image",placement:"bottom",children:Object(q.jsx)("div",{children:Object(q.jsx)(we,{onChange:function(e){return b("image",e,{shouldDirty:!0,shouldValidate:!0})}})})}),Object(q.jsx)(ee.a,{title:"Add checklist",placement:"bottom",children:Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return c(!a)},children:Object(q.jsx)(E.a,{fontSize:"small",children:"playlist_add_check"})})}),Object(q.jsx)(ee.a,{title:"Change labels",placement:"bottom",children:Object(q.jsx)("div",{children:Object(q.jsx)(Oe,{note:p,onChange:function(e){return b("labels",e)}})})}),Object(q.jsx)(A.a,{name:"archive",control:m,defaultValue:!1,render:function(t){var n=t.field,a=n.onChange,c=n.value;return Object(q.jsx)(ee.a,{title:c?"Unarchive":"Archive",placement:"bottom",children:Object(q.jsx)("div",{children:Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){a(!c),"new"===e.variant&&setTimeout((function(){return f(u())}))},children:Object(q.jsx)(E.a,{fontSize:"small",children:c?"unarchive":"archive"})})})})}})]}),Object(q.jsx)("div",{className:"flex items-center",children:"new"===e.variant?Object(q.jsx)(Z.a,{className:"m-4",type:"submit",variant:"contained",color:"secondary",size:"small",onClick:d(f),disabled:L.a.isEmpty(h)||!x,children:"Create"}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(ee.a,{title:"Delete Note",placement:"bottom",children:Object(q.jsx)(V.a,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove,children:Object(q.jsx)(E.a,{fontSize:"small",children:"delete"})})}),Object(q.jsx)(Z.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small",children:"Close"})]})})]})]})}Ce.defaultProps={variant:"edit",note:null};var Se,De=Object(re.k)(Ce),ze=Object(b.b)("notesApp/notes/getNotes",Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/notes-app/notes");case 2:return t=e.sent,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))),Ie=Object(b.b)("notesApp/notes/createNote",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/notes-app/create-note",{note:t});case 2:return n=e.sent,e.next=5,n.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ae=Object(b.b)("notesApp/notes/updateNote",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/notes-app/update-note",{note:t});case 2:return n=e.sent,e.next=5,n.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Le=Object(b.b)("notesApp/notes/removeNote",function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,n.getState,e.next=3,x.a.post("/api/notes-app/remove-note",{noteId:t});case 3:return c=e.sent,e.next=6,c.data;case 6:return l=e.sent,a(Be()),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Te=Object(b.c)({}),Ee=Te.getSelectors((function(e){return e.notesApp.notes})),Ve=Ee.selectAll,Re=(Ee.selectEntities,Ee.selectById,Object(b.d)({name:"notesApp/notes",initialState:Te.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},resetNotesSearchText:function(e,t){e.searchText=""},toggleVariateDescSize:function(e,t){e.variateDescSize=!e.variateDescSize},openNoteDialog:function(e,t){e.noteDialogId=t.payload},closeNoteDialog:function(e,t){e.noteDialogId=t.null}},extraReducers:(Se={},Object(o.a)(Se,ze.fulfilled,Te.setAll),Object(o.a)(Se,Ie.fulfilled,Te.addOne),Object(o.a)(Se,Ae.fulfilled,Te.upsertOne),Object(o.a)(Se,Le.fulfilled,Te.removeOne),Se)})),_e=Re.actions,Fe=_e.setNotesSearchText,He=_e.resetNotesSearchText,Pe=_e.toggleVariateDescSize,Ue=_e.openNoteDialog,Be=_e.closeNoteDialog,Me=Re.reducer,We=Object(i.forwardRef)((function(e,t){return Object(q.jsx)(Q.a,Object(S.a)({direction:"up",ref:t},e))}));var qe=function(e){var t=Object(r.c)(),n=Object(r.d)((function(e){return e.notesApp.notes})),a=Object(z.a)((function(e){t(Ae(e))}),600);return n.entities?Object(q.jsx)(s.a,{classes:{paper:"w-full m-24"},TransitionComponent:We,onClose:function(e){return t(Be())},open:Boolean(n.noteDialogId),children:Object(q.jsx)(De,{note:n.entities[n.noteDialogId],onChange:a,onClose:function(e){return t(Be())},onRemove:function(){t(Le(n.noteDialogId))}})}):null},Ge=n(219),Je=n(664),Ye=Object(Je.a)({button:{cursor:"text"}});var Ke=function(e){var t=Object(r.c)(),n=Ye(e),a=Object(i.useState)(!1),c=Object(D.a)(a,2),l=c[0],s=c[1];function o(){l&&(s(!1),document.removeEventListener("keydown",d,!1))}function d(e){27===e.keyCode&&o()}return Object(q.jsx)(Ge.a,{className:Object(M.a)(n.button,"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow flex-shrink-0"),children:l?Object(q.jsx)(he.a,{onClickAway:function(e){var t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||o()},children:Object(q.jsx)("div",{className:"w-full",children:Object(q.jsx)(De,{onCreate:function(e){t(Ie(e)),o()},variant:"new"})})}):Object(q.jsx)(P.a,{className:"w-full px-16 py-12 text-16 w-full",color:"textSecondary",onClick:function(e){e.stopPropagation(),s(!0),document.addEventListener("keydown",d,!1)},children:"Take a note..."})})},Qe=n(1708),Xe=n(1236),Ze=n(1245),$e={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var et=function(e,t,n){if(t){t.style.fontSize=null,t.style.lineHeight=null;var a=t.clientWidth;if(0!==a&&n){var c,l=document.createElement("div");l.style.display="inline-block",l.style.fontSize="10px",l.style.fontWeight="600",l.style.lineHeight="10px",l.style.position="absolute",l.style.whiteSpace="pre-wrap",l.style.wordWrap="break-word",l.style.pointerEvents="none",l.style.visibility="hidden",document.body.appendChild(l);var i=e.split(" ").map((function(e){return l.textContent=e.toString(),l.clientWidth})),r=Math.max.apply(Math,Object(se.a)(i)),s=Math.floor(10*a/r);s<18?c=1:s>=18&&s<24?c=2:s>=24&&s<36?c=3:s>=36&&s<48?c=4:s>=48&&(c=5);var o=$e[c],d=o.lineHeight,u=o.fontSize;l.textContent=e,l.style.width="".concat(a,"px"),l.style.fontSize="".concat(u,"px"),l.style.lineHeight="".concat(d,"px");var j=l.clientHeight/d;j>4&&j<6?c=4:j>=6&&j<9?c=3:j>=9&&j<11?c=2:j>=11&&(c=1),document.body.removeChild(l),d=$e[c].lineHeight,u=$e[c].fontSize,t.style.fontSize="".concat(u,"px"),t.style.lineHeight="".concat(d,"px")}}};var tt=function(e){var t=Object(r.c)();return Object(q.jsx)(Ze.a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1}},children:Object(q.jsxs)(Xe.a,{className:Object(M.a)("cursor-pointer",e.className),onClick:function(){return t(Ue(e.note.id))},children:[e.note.image&&""!==e.note.image&&Object(q.jsx)("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&Object(q.jsx)(P.a,{className:"px-20 my-16 text-14 font-semibold",children:e.note.title}),e.note.description&&""!==e.note.description&&Object(q.jsx)(P.a,{className:"px-20 my-16 ",component:"div",children:Object(q.jsx)("div",{className:Object(M.a)("w-full break-words",e.variateDescSize?"font-500":"text-14"),ref:function(t){setTimeout((function(){return et(e.note.description,t,e.variateDescSize)}))},children:e.note.description})}),e.note.checklist&&e.note.checklist.length>0&&Object(q.jsx)("ul",{className:"px-20 my-16 flex flex-wrap list-reset",children:e.note.checklist.map((function(e){return Object(q.jsxs)("li",{className:"flex items-center w-full",children:[Object(q.jsx)(E.a,{color:"action",className:"text-16",children:e.checked?"check_box_outline":"check_box_outline_blank"}),Object(q.jsx)(P.a,{className:Object(M.a)("truncate mx-8",e.checked&&"line-through"),color:e.checked?"textSecondary":"inherit",children:e.text})]},e.id)}))}),(e.note.labels.length>0||e.note.reminder)&&Object(q.jsxs)("div",{className:"px-20 my-16 flex flex-wrap w-full -mx-2",children:[e.note.reminder&&Object(q.jsx)(ie,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((function(e){return Object(q.jsx)(ce,{id:e,className:"mt-4 mx-2 max-w-full",linkable:!0},e)}))]})]})})};var nt=Object(re.k)((function(e){var t=Object(r.d)(Ve),n=Object(r.d)((function(e){return e.notesApp.notes.variateDescSize})),a=Object(r.d)((function(e){return e.notesApp.notes.searchText})),c=Object(i.useState)(null),l=Object(D.a)(c,2),s=l[0],o=l[1];return Object(i.useEffect)((function(){t.length>0&&o(function(){var n=e.match.params,c=n.id,l=n.labelId,i=t;return l&&(i=i.filter((function(e){return e.labels.includes(l)&&!e.archive}))),c||(i=i.filter((function(e){return!e.archive}))),"archive"===c&&(i=i.filter((function(e){return e.archive}))),"reminders"===c&&(i=i.filter((function(e){return Boolean(e.reminder)&&!e.archive}))),0===a.length?i:i=U.a.filterArrayByString(i,a)}())}),[t,a,e.match]),s&&0!==s.length?Object(q.jsx)("div",{className:"flex flex-wrap w-full",children:Object(q.jsx)(Qe.a,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-0 md:p-8",children:s.map((function(e){return Object(q.jsx)(tt,{note:e,className:"w-full rounded-20 shadow mb-16",variateDescSize:n},e.id)}))})}):Object(q.jsx)("div",{className:"flex items-center justify-center h-full",children:Object(q.jsx)(P.a,{color:"textSecondary",variant:"h5",children:"There are no notes!"})})})),at=n(1248),ct=Object(Je.a)((function(e){return{root:{},inputWrapper:{backgroundColor:e.palette.primary.dark}}}));function lt(e){var t=Object(r.c)(),n=Object(r.d)((function(e){return e.notesApp.notes.notesSearchText})),a=ct(e),c=Object(i.useState)(!1),l=Object(D.a)(c,2),s=l[0],o=l[1];function d(e){e.stopPropagation(),o(!0),document.addEventListener("keydown",j,!1)}function u(){o(!1),t(He()),document.removeEventListener("keydown",j,!1)}function j(e){27===e.keyCode&&u()}return Object(q.jsxs)("div",{className:Object(M.a)(a.root,"flex",e.className),children:[Object(q.jsx)(ee.a,{title:"Click to search",placement:"bottom",children:Object(q.jsx)("div",{onClick:d,onKeyDown:d,role:"button",tabIndex:0,children:e.trigger})}),s&&Object(q.jsx)(he.a,{onClickAway:function(){u()},children:Object(q.jsx)("div",{className:Object(M.a)(a.inputWrapper,"absolute left-0 right-0 top-0 bottom-0 h-full z-9999 px-8 sm:px-24"),children:Object(q.jsxs)("div",{className:"flex items-center w-full h-full",children:[Object(q.jsx)(R.a,{placeholder:"Search for anything",className:"flex flex-1 py-0 px-16 h-64",disableUnderline:!0,fullWidth:!0,value:n,inputProps:{"aria-label":"Search"},onChange:function(e){return t(Fe(e))},autoFocus:!0}),Object(q.jsx)(V.a,{onClick:u,className:"mx-8",children:Object(q.jsx)(E.a,{children:"close"})})]})})})]})}lt.defaultProps={trigger:Object(q.jsx)(V.a,{className:"w-64 h-64",children:Object(q.jsx)(E.a,{children:"search"})})};var it=lt;var rt=function(e){var t=Object(r.c)(),n=Object(r.d)((function(e){return e.notesApp.notes.variateDescSize}));return Object(q.jsxs)("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative",children:[Object(q.jsxs)("div",{className:"flex flex-shrink items-center sm:w-224",children:[Object(q.jsx)(at.a,{lgUp:!0,children:Object(q.jsx)(V.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar",children:Object(q.jsx)(E.a,{children:"menu"})})}),Object(q.jsxs)("div",{className:"flex items-center",children:[Object(q.jsx)(E.a,{component:Ze.a.span,initial:{scale:0},animate:{scale:1,transition:{delay:.2}},className:"text-24 md:text-32",children:"account_box"}),Object(q.jsx)(P.a,{component:Ze.a.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-16 md:text-24 mx-12 font-semibold",children:"Notes"})]})]}),Object(q.jsxs)("div",{className:"flex flex-1 items-center justify-end",children:[Object(q.jsx)(ee.a,{title:"Toggle Variate Description Size",children:Object(q.jsx)(V.a,{onClick:function(e){return t(Pe())},children:Object(q.jsx)(E.a,{color:n?"action":"disabled",children:"format_size"})})}),Object(q.jsx)(it,{})]})]})},st=n(91),ot=n(1235),dt=n(1234),ut=Object(Je.a)((function(e){return{paper:Object(o.a)({},e.breakpoints.down("md"),{boxShadow:"none"}),listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"100%",borderRadius:6,paddingLeft:12,paddingRight:12,marginBottom:4,"&.active":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, .05)!important":"rgba(255, 255, 255, .1)!important",pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{fontSize:16,width:16,height:16,marginRight:16}}}}));var jt=function(e){var t=Object(r.c)(),n=Object(r.d)(v),a=ut(e);return Object(q.jsx)("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4",children:Object(q.jsxs)(Ge.a,{component:Ze.a.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:Object(M.a)(a.paper,"rounded-0 shadow-none lg:rounded-20 lg:shadow pt-12"),children:[Object(q.jsxs)(F.a,{className:"px-12",children:[Object(q.jsxs)(H.a,{button:!0,component:st.a,to:"/apps/notes",exact:!0,activeClassName:"active",className:a.listItem,children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"label"}),Object(q.jsx)(pe.a,{className:"truncate",primary:"Notes",disableTypography:!0})]}),Object(q.jsxs)(H.a,{button:!0,component:st.a,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",className:a.listItem,children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"notifications"}),Object(q.jsx)(pe.a,{className:"truncate",primary:"Reminders",disableTypography:!0})]})]}),Object(q.jsx)(ot.a,{}),Object(q.jsxs)(F.a,{className:"px-12",children:[Object(q.jsx)(dt.a,{children:"Labels"}),n.map((function(e){return Object(q.jsxs)(H.a,{button:!0,component:st.a,to:"/apps/notes/labels/".concat(e.handle,"/").concat(e.id),exact:!0,activeClassName:"active",className:a.listItem,children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"label"}),Object(q.jsx)(pe.a,{className:"truncate",primary:e.name,disableTypography:!0})]},e.id)})),Object(q.jsxs)(H.a,{button:!0,className:a.listItem,onClick:function(e){return t(w())},children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"edit"}),Object(q.jsx)(pe.a,{className:"truncate",primary:"Edit Labels",disableTypography:!0})]})]}),Object(q.jsx)(ot.a,{}),Object(q.jsx)(F.a,{className:"px-12",children:Object(q.jsxs)(H.a,{button:!0,component:st.a,to:"/apps/notes/archive",activeClassName:"active",className:a.listItem,children:[Object(q.jsx)(E.a,{className:"list-item-icon text-16",color:"action",children:"archive"}),Object(q.jsx)(pe.a,{className:"truncate",primary:"Archive",disableTypography:!0})]})})]})})},bt=n(133),mt=Object(bt.c)({notes:Me,labels:C});t.default=Object(l.a)("notesApp",mt)((function(e){var t=Object(r.c)(),n=Object(i.useRef)(null);return Object(i.useEffect)((function(){t(ze()),t(h())}),[t]),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(c.a,{classes:{contentWrapper:"p-16 sm:p-24 pb-80",content:"flex min-h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72"},header:Object(q.jsx)(rt,{pageLayout:n}),content:Object(q.jsxs)("div",{className:"flex flex-col w-full items-center",children:[Object(q.jsx)(Ke,{}),Object(q.jsx)(nt,{}),Object(q.jsx)(qe,{}),Object(q.jsx)(K,{})]}),leftSidebarContent:Object(q.jsx)(jt,{}),sidebarInner:!0,ref:n})})}))}}]);